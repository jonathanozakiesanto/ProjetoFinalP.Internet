<!--/**
 * Copyright 2023 Prof. Ms. Ricardo Leme All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */-->
<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap 5 CSS-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/fatecitu.png">
  <link rel="stylesheet" href="css/estilo.css">
  <title>Menu Inicial</title>
</head>

<body onload="verificaLogado();obtemDados('eventos')">
  <nav class="navbar navbar-dark bg-dark navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">AEEC Itu</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="menu.html"><i class="bi bi-house"></i> Início</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="eventos.html"><i class="bi bi-person-vcard"></i> Eventos Esportivos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="relatorio.html"><i class="bi bi-journal-check"></i> Relatórios</a>
          </li>
        </ul>
      </div>
      <div class="text-right">
        <ul class="navbar-nav ms-auto flex-nowrap">

          <div id="imagemUsuario"></div>
          <li class="nav-item">
            <button class="btn  btn-block bg-light" onclick="logoutFirebase()"><i class="bi bi-box-arrow-in-right"></i>
              Logout</button>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container-fluid p-1 text-darker text-center">
    <h2>Controle de Cadastro de Eventos Esportivos</h1>

  </div>
  <div id="mensagemAlerta"></div>
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-md-4">
        <h3 class="laranja-escuro"><i class="bi bi-person-badge"></i>Cadastro de Eventos Esportivos</h3>
        <form id="formCadastro" method="post">
          <div class="form-group mt-3">
            <label for="nome">Nome do Evento</label>
            <input type="text" class="form-control" name="nome" id="nome" placeholder="Nome do Evento Esportivo" autofocus>
          </div>
          <div class="form-group mt-3">
            <label for="email">E-mail</label>
            <input type="email" class="form-control" name="email" id="email" placeholder="Email de contato">
          </div>
          <div class="form-group mt-3">
            <label for="dataevento">Data do Evento</label>
            <input type="date" class="form-control" name="dataevento" id="dataevento"
              onfocus="this.max=new Date().toISOString().split('T')[0]">
          </div>
          <div class="form-group">
            <label for="telefone">Telefone de Contato</label>
            <input type="tel" class="form-control" name="telefone" id="telefone" oninput="formatarTelefone(this)" maxlength="15" required>
          </div>
          <div class="form-group mt-3">
            <label for="times">Quantidade de Times:</label>
            <input type="number" class="form-control" id="times" name="times" min="2" max="32" step="2" required>
          </div>
          <div class="form-group mt-3"><label>Escolha Quais Modalidades farão parte de seu Evento</label>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="modalidades" value="Futebol" id="modalidadeFutebol">
              <label class="form-check-label" for="modalidadeFutebol">⚽Futebol</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="modalidades" value="Basquete" id="modalidadeBasquete">
              <label class="form-check-label" for="modalidadeBasquete">🏀Basquete</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="modalidades" value="Volei" id="modalidadeVolei">
              <label class="form-check-label" for="modalidadeVolei">🏐Vôlei</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="modalidades" value="Judo" id="modalidadeJudo">
              <label class="form-check-label" for="modalidadeJudo">🥋Judo</label>
            </div>            
          </div>
          <div class="form-group mt-3">
            <label for="cidade">Cidade do Evento</label>
            <input type="text" class="form-control" name="cidade" id="cidade" placeholder="Cidade do Evento">
          </div>
          <div class="form-group mt-3">
            <label for="estado">Estado:</label>
            <select class="form-control" id="estado" name="estado">
              <option selected disabled>Selecione um estado</option>
              <option value="AC">Acre</option>
              <option value="AL">Alagoas</option>
              <option value="AP">Amapá</option>
              <option value="AM">Amazonas</option>
              <option value="BA">Bahia</option>
              <option value="CE">Ceará</option>
              <option value="DF">Distrito Federal</option>
              <option value="ES">Espírito Santo</option>
              <option value="GO">Goiás</option>
              <option value="MA">Maranhão</option>
              <option value="MT">Mato Grosso</option>
              <option value="MS">Mato Grosso do Sul</option>
              <option value="MG">Minas Gerais</option>
              <option value="PA">Pará</option>
              <option value="PB">Paraíba</option>
              <option value="PR">Paraná</option>
              <option value="PE">Pernambuco</option>
              <option value="PI">Piauí</option>
              <option value="RJ">Rio de Janeiro</option>
              <option value="RN">Rio Grande do Norte</option>
              <option value="RS">Rio Grande do Sul</option>
              <option value="RO">Rondônia</option>
              <option value="RR">Roraima</option>
              <option value="SC">Santa Catarina</option>
              <option value="SP">São Paulo</option>
              <option value="SE">Sergipe</option>
              <option value="TO">Tocantins</option>
            </select>
          </div>          
          <div class="form-group mt-3">
            <label for="premiacao">Premiação</label>
            <select class="form-control" name="premiacao" id="premiacao">
              <option selected disabled>Abra e escolha um valor</option>
              <option value="1">Até R$ 1000</option>
              <option value="2">De R$ 1001 a R$ 5000</option>
              <option value="3">Acima de R$ 5000</option>
            </select>
          </div>
          <div class="form-group mt-3">
            <label for="estilo" class="me-3">Categoria</label>
            <input type="radio" class="btn-check" name="estilo" id="estiloAmador" value="amador" checked>
            <label class="btn btn-outline-info me-3" for="estiloAmador"><i class="bi bi-person-badge"></i> Amador</label>
            <input type="radio" class="btn-check" name="estilo" id="estiloProfissional" value="profissional">
            <label class="btn btn-outline-danger" for="estiloProfissional"><i class="bi bi-person-bounding-box"></i> Profissional</label>
          </div>          
          <div class="form-group">
            <input type="hidden" class="form-control" name="id" id="id">
          </div>
          <button id="btnSalvar" class="btn btn-block btn-success my-4" onclick="salvar(event, 'eventos')"><i
              class="bi bi-save-fill"></i> Salvar</button>
          <button type="reset" class="btn btn-block btn-danger my-4"><i class="bi bi-x-square-fill"></i> Limpar</button>
        </form>
      </div>


      <div class="col-md-7">
        <h3 class="laranja-escuro"><i class="bi bi-database-check"></i>Listagem de Eventos Esportivos</h3>
        <button class="btn fundo-laranja-escuro" type="button" disabled id="carregandoDados">
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Carregando os dados...
        </button>
        <div class="table-responsive">
          <table id="tabelaDados" class="table table-striped table-hover text-center">
            <!-- Conteúdo dos dados do Firebase será inserido aqui -->
          </table>
        </div>
      </div>
    </div>
  </div>
  <script>
    const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');
    const esportes = Array.from(checkboxes).map(checkbox => checkbox.value);
  </script>
  
  <!-- Carregando os scripts do Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-storage-compat.js"></script>
  <!-- Carregamento dos scripts do projeto-->
  <script src="js/firebase/firebase.js"></script>
  <script src="js/firebase/authentication.js"></script>
  <script src="js/firebase/dados.js"></script>
  <script src="js/util/alerta.js"></script>

</body>

</html>